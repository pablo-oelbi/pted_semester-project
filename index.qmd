---
title: Commuting Mode Choice based on distance to the next train station
author: Marijana Maric and Pablo Bischofberger
output: html
---


<!-- You can add  your R Code with Code chunks-->

```{r}
#| echo: false
#| warning: false
#| message: false

# You can set chunk options individually per code chunk, as was done with this
# code chunk.

# echo: false           hides the code from the generated output
# warning: false        hides warnings from the generated output
# message: false        hides messages from the generated output

# To apply the setting for all code chunks, add the options to the yaml header of the document (in between the ---) without the preceeding "#|".

```


## **Abstract**

This study examines the relationship between the distance from home to the train station and the transportation mode used. The analysis of trajectory data seeks to identify patterns and factors influencing the choice of transportation. Statistical methods, such as regression models and clustering techniques, are employed. The study is constrained by the small sample size, inaccurate GPS data, and unaccounted for confounding variables.


## Introduction

<!-- the following is just a placeholder text, remove it!-->
Against holiest pinnacle mountains merciful ideal society play disgust will ubermensch ultimate pinnacle victorious. Snare value law gains battle pious intentions revaluation strong. Insofar snare faith ideal oneself.

## **Data Description**

The data will consist of GPS trajectory data collected from individuals traveling to nearest train stations. The dataset will include information on the mode of transportation used (e.g., walking, biking, e-bike, car, public transit), as well as the distance between the individual's home and the train station and in what time this is made. Each record in the dataset includes the following variables:

-   **`user_id`**: A unique identifier for each individual in the study. (chr)

-   **`datetime`**: The date and time of each recorded location. (dttm)

-   **`weekday`**: The day of the week. (chr)

-   **`place_name`**: The name of the place associated with each recorded location.(chr)

-   **`transport_mode`**: The mode of transportation used by the individual (e.g., walking, biking, car, public transit).(chr)

-   **`lon_x`** and **`lat_y`**: The longitude and latitude of each recorded location.(dbl)

```{r, warning=FALSE, echo=TRUE, message = FALSE}
# Load required libraries
library(readr)
library(sf)
library(dplyr)
library(ggplot2)
library(lubridate)

# Load the data
data <- read_delim("data/posmo.csv")

```


## **Methods**

The following methods will be applied in this study:

1.  **Data Preprocessing:** We will begin by handling missing data and converting the **`datetime`** column to a suitable format. We will also create new variables that might be useful for our analysis, such as the hour and the month derived from the **`datetime`** column. 

2.  **Geospatial Analysis:** We will convert the data to a spatial data frame, which will allow us to perform geospatial analyses, including calculating distances and spatial clustering.

3.  **Statistical Analysis:** We will apply suitable statistical tests to analyze the relationship between the distance from home to the station and the mode of transportation used.

4.  **Time-series Analysis:** Considering the timestamp data, we will explore it as a time-series to uncover patterns of movement or transportation usage over various periods (daily, weekly, monthly, etc.). This will help us understand and predict changes in the user's transportation habits.

4.  **User Profiling:**
We will segment users based on their transportation mode and travel patterns. Creating these profiles could provide insights into different types of users or behaviors, and allow us to tailor interventions or recommendations to specific user groups.

## **Results**

In this section, we will present our findings from the statistical and geospatial analyses. We will provide clear and concise visualizations to illustrate patterns and trends in the data, such as the distribution of different modes of transportation, the distances traveled by different modes of transportation, and the temporal variations in these variables.

## **Discussion**

We will discuss our findings in the context of our research questions. We will interpret the results of our analyses and discuss whether these results align with our expectations or contradict them. We will also discuss potential factors that might explain any unexpected findings.

